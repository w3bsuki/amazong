{
  "auditDate": "2025-12-18",
  "projectName": "amazong-marketplace",
  "summary": {
    "totalFiles": 667,
    "totalSizeKB": 5098.32,
    "healthScore": 62,
    "estimatedCleanupImpact": "15-20%"
  },
  "unusedFiles": {
    "count": 92,
    "severity": "HIGH",
    "files": [
      "components/analytics.tsx",
      "components/app-sidebar.tsx",
      "components/attribute-filters.tsx",
      "components/breadcrumb.tsx",
      "components/category-sidebar.tsx",
      "components/category-subheader.tsx",
      "components/data-table.tsx",
      "components/error-boundary.tsx",
      "components/header-dropdowns.tsx",
      "components/image-upload.tsx",
      "components/language-switcher.tsx",
      "components/main-nav.tsx",
      "components/mega-menu.tsx",
      "components/mobile-search-bar.tsx",
      "components/nav-documents.tsx",
      "components/product-actions.tsx",
      "components/product-form-enhanced.tsx",
      "components/product-form.tsx",
      "components/product-price.tsx",
      "components/product-row.tsx",
      "components/product-variant-selector.tsx",
      "components/promo-banner-strip.tsx",
      "components/rating-scroll-link.tsx",
      "components/section-cards.tsx",
      "components/seller-card.tsx",
      "components/sign-out-button.tsx",
      "components/sticky-add-to-cart.tsx",
      "components/sticky-checkout-button.tsx",
      "components/tabbed-product-section.tsx",
      "components/theme-provider.tsx",
      "components/upgrade-banner.tsx",
      "components/ui/button-group.tsx",
      "components/ui/calendar.tsx",
      "components/ui/carousel.tsx",
      "components/ui/chat-container.tsx",
      "components/ui/code-block.tsx",
      "components/ui/collapsible.tsx",
      "components/ui/context-menu.tsx",
      "components/ui/empty.tsx",
      "components/ui/field.tsx",
      "components/ui/input-group.tsx",
      "components/ui/input-otp.tsx",
      "components/ui/item.tsx",
      "components/ui/kbd.tsx",
      "components/ui/markdown.tsx",
      "components/ui/menubar.tsx",
      "components/ui/message.tsx",
      "components/ui/prompt-input.tsx",
      "components/ui/resizable.tsx",
      "components/ui/scroll-button.tsx",
      "components/ui/searchable-filter-list.tsx",
      "components/ui/spinner.tsx",
      "components/ui/toaster.tsx",
      "components/ui/use-mobile.tsx",
      "hooks/use-business-account.ts",
      "hooks/use-header-height.ts",
      "lib/category-icons.tsx",
      "lib/currency.ts",
      "lib/sell-form-schema-v3.ts",
      "lib/toast-utils.ts",
      "scripts/apply-migration.js",
      "scripts/create-user.js",
      "scripts/seed-data.ts",
      "scripts/seed.js",
      "scripts/seed.ts",
      "scripts/setup-db.ts",
      "scripts/test-supabase-connection.ts",
      "scripts/verify-product.js",
      "app/actions/notifications.ts",
      "app/actions/revalidate.ts",
      "components/badges/badge-progress.tsx",
      "components/badges/index.ts",
      "components/badges/seller-badge.tsx",
      "components/badges/trust-score.tsx",
      "components/business/business-date-range-picker.tsx",
      "components/business/business-page-header.tsx",
      "components/category-subheader/category-subheader.tsx",
      "components/category-subheader/index.ts",
      "components/category-subheader/mega-menu-banner.tsx",
      "components/category-subheader/mega-menu-panel.tsx",
      "components/category-subheader/more-categories-grid.tsx",
      "components/icons/index.ts",
      "components/navigation/index.ts",
      "components/navigation/mega-menu.tsx",
      "lib/data/badges.ts",
      "lib/data/profile-data.ts",
      "components/sell/schemas/index.ts",
      "components/sell/schemas/listing.schema.ts",
      "components/sell/schemas/store.schema.ts",
      "app/[locale]/(main)/sell/demo1/_components/steps/details-step.tsx",
      "app/[locale]/(main)/sell/demo1/_components/steps/photos-step.tsx",
      "app/[locale]/(main)/sell/demo1/_components/steps/title-step.tsx"
    ]
  },
  "unusedDependencies": {
    "count": 21,
    "severity": "HIGH",
    "production": [
      "@dnd-kit/core",
      "@dnd-kit/modifiers",
      "@dnd-kit/sortable",
      "@dnd-kit/utilities",
      "@radix-ui/react-collapsible",
      "@radix-ui/react-context-menu",
      "@radix-ui/react-menubar",
      "@tanstack/react-table",
      "@vercel/analytics",
      "embla-carousel",
      "embla-carousel-autoplay",
      "embla-carousel-react",
      "input-otp",
      "marked",
      "react-day-picker",
      "react-markdown",
      "react-resizable-panels",
      "remark-breaks",
      "remark-gfm",
      "shiki",
      "use-stick-to-bottom"
    ],
    "dev": [
      "cross-env",
      "dotenv",
      "shadcn",
      "supabase"
    ]
  },
  "unusedExports": {
    "count": 206,
    "severity": "MEDIUM",
    "byFile": {
      "i18n/routing.ts": ["redirect", "getPathname"],
      "lib/shipping.ts": ["getSellerCategory", "getDeliveryEstimate", "getDeliveryLabel", "SHIPPING_REGIONS", "getRegionName"],
      "lib/data/products.ts": ["getProductById", "filterByZone", "getFeaturedProducts", "getTopRatedProducts", "filterByShippingZone"],
      "lib/auth/admin.ts": ["isAdmin"],
      "lib/auth/business.ts": ["getBusinessSellerWithSubscription", "isBusinessAccount", "getSellerInfo"],
      "lib/badges.ts": ["BADGE_COLORS", "calculateBuyerTrustScore", "evaluateBadgeCriteria", "toDisplayBadge", "groupSellerBadges", "groupBuyerBadges", "getTopBadgesForDisplay", "getNextBadgeProgress"],
      "lib/validations/auth.ts": ["passwordSchema", "emailSchema", "usernameSchema", "RESERVED_USERNAMES", "changePasswordSchema", "changeEmailSchema", "getLocalizedPasswordErrors", "getLocalizedEmailErrors"],
      "components/ui/sidebar.tsx": ["SidebarGroupAction", "SidebarInput", "SidebarMenuAction", "SidebarMenuBadge", "SidebarMenuSkeleton", "SidebarMenuSub", "SidebarMenuSubButton", "SidebarMenuSubItem", "SidebarRail", "SidebarSeparator"],
      "components/ui/dropdown-menu.tsx": ["DropdownMenuPortal", "DropdownMenuCheckboxItem", "DropdownMenuRadioGroup", "DropdownMenuRadioItem", "DropdownMenuShortcut", "DropdownMenuSub", "DropdownMenuSubTrigger", "DropdownMenuSubContent"]
    }
  },
  "codeDuplicates": {
    "count": 50,
    "severity": "HIGH",
    "highDuplicationFiles": [
      {
        "file": "lib/sell-form-schema-v3.ts",
        "percentage": 87.91,
        "duplicateOf": "lib/sell-form-schema-v4.ts"
      },
      {
        "file": "components/sell/schemas/listing.schema.ts",
        "percentage": 82.47,
        "duplicateOf": "lib/sell-form-schema files"
      },
      {
        "file": "lib/data/badges.ts",
        "percentage": 21.63,
        "issue": "Repetitive server action patterns"
      },
      {
        "file": "lib/data/store.ts",
        "percentage": 17.87,
        "duplicateOf": "lib/data/profile-data.ts"
      },
      {
        "file": "lib/data/profile-data.ts",
        "percentage": 12.03,
        "issue": "Internal duplications"
      }
    ],
    "clones": [
      {
        "id": 1,
        "description": "Seller stats fetching logic",
        "lines": 34,
        "files": ["lib/data/profile-data.ts:132-165", "lib/data/store.ts:114-147"],
        "action": "Extract to lib/data/seller-stats.ts"
      },
      {
        "id": 2,
        "description": "Server action boilerplate",
        "lines": 9,
        "occurrences": 6,
        "file": "lib/data/badges.ts",
        "action": "Create withServerAction wrapper"
      },
      {
        "id": 3,
        "description": "Badge processing logic",
        "lines": 10,
        "files": ["lib/data/profile-data.ts:508-517", "lib/data/store.ts:407-416"],
        "action": "Move to shared badge utilities"
      },
      {
        "id": 4,
        "description": "Category flattening logic",
        "lines": 28,
        "files": ["components/sell/ui/smart-category-picker.tsx:77-104", "components/sell/ui/category-modal/index.tsx:49-72"],
        "action": "Extract to lib/category-utils.ts"
      },
      {
        "id": 5,
        "description": "Dimension input UI",
        "lines": 21,
        "occurrences": 3,
        "file": "components/sell/sections/shipping-section.tsx:227-287",
        "action": "Create DimensionInput component"
      },
      {
        "id": 6,
        "description": "Category icon maps",
        "lines": 55,
        "file": "lib/category-icons.tsx:162-256",
        "action": "Generate dynamically from single source"
      }
    ]
  },
  "circularDependencies": {
    "count": 1,
    "severity": "LOW",
    "cycles": [
      {
        "path": [
          "app/[locale]/(account)/account/sales/page.tsx",
          "app/[locale]/(account)/account/sales/sales-table.tsx"
        ],
        "action": "Move shared types to separate types.ts file"
      }
    ]
  },
  "unusedTypes": {
    "count": 57,
    "severity": "LOW",
    "types": [
      "Json",
      "Tables",
      "TablesInsert",
      "TablesUpdate",
      "Enums",
      "CompositeTypes",
      "AccountType",
      "DashboardAllowedTier",
      "SubscriptionStatus",
      "BusinessSubscription",
      "BusinessSeller",
      "BusinessSellerWithSubscription",
      "Category",
      "CategoryWithParent",
      "AttributeType",
      "CategoryWithChildren",
      "CategoryContext",
      "BadgeAccountType",
      "IdDocumentType",
      "SellerFeedback",
      "BuyerFeedback",
      "BadgeEvaluationResult",
      "VerificationStatus",
      "OrderItemStatusConfig",
      "ProductFormData"
    ]
  },
  "duplicateExports": {
    "count": 5,
    "severity": "MEDIUM",
    "exports": [
      {
        "file": "components/geo-welcome-modal.tsx",
        "exports": ["GeoWelcomeModal", "default"]
      },
      {
        "file": "lib/data/products.ts",
        "exports": ["filterByZone", "filterByShippingZone"]
      },
      {
        "file": "components/reviews-section-server.tsx",
        "exports": ["ReviewsSectionServer", "default"]
      },
      {
        "file": "components/reviews-section-client.tsx",
        "exports": ["ReviewsSectionClient", "default"]
      },
      {
        "file": "components/sell/ui/category-modal/index.tsx",
        "exports": ["CategorySelector", "default"]
      }
    ]
  },
  "largestFiles": [
    {
      "path": "lib/supabase/database.types.ts",
      "lines": 2224,
      "sizeKB": 69.72,
      "note": "Generated - OK"
    },
    {
      "path": "app/[locale]/(main)/demo/cards/page.tsx",
      "lines": 1500,
      "sizeKB": 64.75,
      "note": "Demo - consider removing"
    },
    {
      "path": "components/header-dropdowns.tsx",
      "lines": 900,
      "sizeKB": 52.81,
      "note": "Split into smaller components"
    },
    {
      "path": "components/sell/steps/step-category.tsx",
      "lines": 990,
      "sizeKB": 37.31,
      "note": "Refactor, extract logic"
    },
    {
      "path": "components/navigation/category-subheader.tsx",
      "lines": 877,
      "sizeKB": 35.01,
      "note": "Split into modules"
    }
  ],
  "cleanupPhases": [
    {
      "phase": 1,
      "name": "Quick Wins",
      "duration": "30 mins",
      "tasks": ["Remove unused dependencies", "Add missing dependencies"]
    },
    {
      "phase": 2,
      "name": "Delete Unused Files",
      "duration": "45 mins",
      "tasks": ["Delete 92 unused files in batches"]
    },
    {
      "phase": 3,
      "name": "Fix Duplicates",
      "duration": "2 hours",
      "tasks": ["Extract shared utilities", "Create reusable components"]
    },
    {
      "phase": 4,
      "name": "Cleanup Exports",
      "duration": "1 hour",
      "tasks": ["Remove duplicate exports", "Remove unused exports"]
    },
    {
      "phase": 5,
      "name": "Fix Circular Deps",
      "duration": "15 mins",
      "tasks": ["Break sales page cycle"]
    },
    {
      "phase": 6,
      "name": "Verification",
      "duration": "30 mins",
      "tasks": ["Run test suite", "Regenerate audit reports"]
    }
  ]
}
