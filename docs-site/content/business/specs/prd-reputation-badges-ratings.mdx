# PRD: Reputation (Ratings & Badges)

Goal: make Treido feel **safe** and **alive** by showing trustworthy signals without turning reputation into a gamed vanity metric.

## 1) Problem

In marketplaces, trust is the limiting factor:

- buyers fear scams / “item not as described”
- sellers fear non-paying buyers and chargebacks
- new sellers need a path to earn credibility

## 2) Reputation primitives

### Ratings & reviews (V1 baseline)

- Post-order rating prompt after a successful completion.
- Show:
  - average rating,
  - number of ratings,
  - recent rating distribution (optional),
  - written reviews (optional at launch, but supported).

### Seller stats (trust signals)

Expose *stable* signals that are hard to fake:

- completed sales count
- cancellation rate
- dispute rate
- average ship time / on-time shipping (if tracking exists)
- response time in chat (optional)

## 3) Badges (V1.1 target, can ship earlier if low-risk)

Badges are **labels** that explain *why* someone is trusted.

### Badge types

**Verification badges**

- Phone verified
- Stripe payouts enabled (Connect onboarding complete)
- Business verified (KYB complete)

**Performance badges**

- “Rising seller” (e.g. ≥ 10 completed sales)
- “Trusted seller” (e.g. ≥ 50 completed sales + rating ≥ 4.7)
- “Top seller” (e.g. ≥ 200 completed sales + low dispute rate)

**Community badges (future)**

- early adopter
- contributor (internal only)

### Rules (example thresholds)

All thresholds must be **data-driven** and editable without redeploys.

| Badge | Minimum completed sales | Rating | Dispute rate | Notes |
|------|--------------------------|--------|--------------|------|
| Rising seller | 10 | ≥ 4.5 | < 5% | New seller momentum |
| Trusted seller | 50 | ≥ 4.7 | < 3% | The “50 sales” milestone |
| Top seller | 200 | ≥ 4.8 | < 2% | Requires consistent performance |

## 4) Anti-gaming rules

- Only **paid** and **completed** orders count as sales.
- Exclude orders:
  - fully refunded for seller fault,
  - canceled before shipment,
  - confirmed as fraud.
- Written reviews must be moderated (basic profanity + report flow).
- Badges can be **revoked** if thresholds fall below (with hysteresis window to prevent badge flicker).

## 5) UX requirements

- Seller profile shows:
  - rating (stars) + count
  - badges row (tap for explanation)
  - “completed sales” number
  - response indicator (optional)
- Product page shows seller card with the same core signals.

## 6) Data & implementation notes

Existing tables mentioned in the codebase:

- `reviews`, `seller_feedback`, `seller_stats`
- badges/gamification: `badge_definitions`, `user_badges` (see `PRODUCT.md`)

Computation model:

- Maintain `seller_stats` via triggers/jobs (source of truth).
- Badges can be:
  - computed on read (derived), or
  - materialized in `user_badges` and updated by triggers/cron.

## 7) Open questions

- Do we allow buyers to rate sellers only, or mutual ratings (buyer + seller)?
- Do we show “response time” if it creates pressure or spam?
- What’s the dispute window cutoff before allowing a rating?
