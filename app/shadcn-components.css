/* ============================================================
   SHADCN/UI COMPONENT STYLES
   CSS rules for shadcn/ui components that can't be expressed
   with Tailwind classes alone (data-state selectors, etc.)
   ============================================================ */

/* ===== DRAWER (Vaul) ===== */
/* Smooth spring animation for drawer open/close */
[data-vaul-drawer] {
  touch-action: none;
}

[data-vaul-drawer][data-vaul-drawer-direction="bottom"] {
  /* iOS-style spring animation */
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[data-vaul-drawer][data-vaul-drawer-direction="top"] {
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[data-vaul-drawer][data-vaul-drawer-direction="left"],
[data-vaul-drawer][data-vaul-drawer-direction="right"] {
  transition: transform 0.4s cubic-bezier(0.32, 0.72, 0, 1);
}

/* Prevent scrolling underneath drawer when open */
[data-vaul-drawer-wrapper][data-vaul-drawer-open="true"] {
  overflow: hidden;
}

/* Handle drag affordance styling */
[data-slot="drawer-handle-container"] {
  user-select: none;
}

/* Drawer body scroll containment - prevents scroll leaking to parent */
[data-slot="drawer-body"] {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--muted-foreground) transparent;
}

[data-slot="drawer-body"]::-webkit-scrollbar {
  width: 4px;
}

[data-slot="drawer-body"]::-webkit-scrollbar-track {
  background: transparent;
}

[data-slot="drawer-body"]::-webkit-scrollbar-thumb {
  background-color: var(--muted-foreground);
  border-radius: 2px;
}

/* Select */
.ui-select-trigger svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-select-trigger svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-select-trigger svg:not([class*='text-']) {
  color: var(--color-muted-foreground);
}

.ui-select-trigger[data-placeholder] {
  color: var(--color-muted-foreground);
}

.ui-select-trigger[data-size='default'] {
  height: 2.5rem;
}

.ui-select-trigger[data-size='sm'] {
  height: 2.25rem;
}

@media (min-width: 768px) {
  .ui-select-trigger[data-size='default'] {
    height: 2.25rem;
  }

  .ui-select-trigger[data-size='sm'] {
    height: 2rem;
  }
}

.ui-select-item svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-select-item svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-select-content--popper[data-side='bottom'] {
  translate: 0 0.25rem;
}

.ui-select-content--popper[data-side='top'] {
  translate: 0 -0.25rem;
}

.ui-select-content--popper[data-side='left'] {
  translate: -0.25rem 0;
}

.ui-select-content--popper[data-side='right'] {
  translate: 0.25rem 0;
}

/* Tooltip */
.ui-tooltip-arrow {
  translate: 0 calc(-50% - 2px);
}

/* Dropdown */
.ui-dropdown-item svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-dropdown-item svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-dropdown-item svg:not([class*='text-']) {
  color: var(--color-muted-foreground);
}

.ui-dropdown-item--destructive {
  color: var(--color-destructive);
}

.ui-dropdown-item--destructive svg:not([class*='text-']) {
  color: var(--color-destructive);
}

.ui-dropdown-sub-trigger[data-state='open'] {
  @apply bg-accent text-accent-foreground;
}

/* Toast */
.ui-toast[data-swipe='move'] {
  transform: translateX(var(--radix-toast-swipe-move-x));
  transition: none;
}

.ui-toast[data-swipe='cancel'] {
  transform: translateX(0);
}

.ui-toast[data-swipe='end'] {
  transform: translateX(var(--radix-toast-swipe-end-x));
}

.destructive .ui-toast-action {
  @apply border-muted/40 hover:border-destructive/30 hover:bg-destructive hover:text-destructive-foreground focus:ring-destructive;
}

.destructive .ui-toast-close {
  @apply text-destructive-foreground/70 hover:text-destructive-foreground focus:ring-destructive/50 focus:ring-offset-destructive;
}

/* Switch */
.ui-switch[data-state='checked'] {
  background-color: var(--color-primary);
}

.ui-switch[data-state='unchecked'] {
  background-color: var(--color-input);
}

.dark .ui-switch[data-state='unchecked'] {
  background-color: oklch(from var(--color-input) l c h / 80%);
}

.ui-switch-thumb[data-state='checked'] {
  transform: translateX(calc(100% - 2px));
}

.dark .ui-switch-thumb[data-state='unchecked'] {
  background-color: var(--color-foreground);
}

.dark .ui-switch-thumb[data-state='checked'] {
  background-color: var(--color-primary-foreground);
}

/* Table */
.ui-table-row[data-state='selected'] {
  background-color: var(--color-muted);
}

.ui-table-head:has([role='checkbox']),
.ui-table-cell:has([role='checkbox']) {
  padding-right: 0;
}

.ui-table-head>[role='checkbox'],
.ui-table-cell>[role='checkbox'] {
  translate: 0 2px;
}
