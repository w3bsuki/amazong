/* ============================================================
   SHADCN/UI COMPONENT STYLES
   CSS rules for shadcn/ui components that can't be expressed
   with Tailwind classes alone (data-state selectors, etc.)
   ============================================================ */

/* ===== DRAWER (Vaul) ===== */
/* Smooth spring animation for drawer open/close */
[data-vaul-drawer] {
  touch-action: none;
}

[data-vaul-drawer][data-vaul-drawer-direction="bottom"] {
  /* iOS-style spring animation */
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[data-vaul-drawer][data-vaul-drawer-direction="top"] {
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[data-vaul-drawer][data-vaul-drawer-direction="left"],
[data-vaul-drawer][data-vaul-drawer-direction="right"] {
  transition: transform 0.4s cubic-bezier(0.32, 0.72, 0, 1);
}

/* Prevent scrolling underneath drawer when open */
[data-vaul-drawer-wrapper][data-vaul-drawer-open="true"] {
  overflow: hidden;
}

/* Handle drag affordance styling */
[data-slot="drawer-handle-container"] {
  user-select: none;
}

/* Drawer body scroll containment - prevents scroll leaking to parent */
[data-slot="drawer-body"] {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--color-muted-foreground) transparent;
}

[data-slot="drawer-body"]::-webkit-scrollbar {
  width: 4px;
}

[data-slot="drawer-body"]::-webkit-scrollbar-track {
  background: transparent;
}

[data-slot="drawer-body"]::-webkit-scrollbar-thumb {
  background-color: var(--color-muted-foreground);
  border-radius: 2px;
}

/* Chart */
.ui-chart .recharts-cartesian-axis-tick text {
  fill: var(--color-muted-foreground);
}

.ui-chart .recharts-cartesian-grid line,
.ui-chart .recharts-curve.recharts-tooltip-cursor,
.ui-chart .recharts-polar-grid line,
.ui-chart .recharts-reference-line line {
  stroke: var(--color-border);
}

.ui-chart .recharts-radial-bar-background-sector,
.ui-chart .recharts-rectangle.recharts-tooltip-cursor {
  fill: var(--color-muted);
}

.ui-chart .recharts-dot {
  stroke: transparent;
}

.ui-chart .recharts-layer,
.ui-chart .recharts-sector,
.ui-chart .recharts-surface {
  outline: none;
}

.ui-chart .recharts-sector {
  stroke: transparent;
}

/* Select */
.ui-select-trigger svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-select-trigger svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-select-trigger svg:not([class*='text-']) {
  color: var(--color-muted-foreground);
}

.ui-select-trigger[data-placeholder] {
  color: var(--color-muted-foreground);
}

.ui-select-trigger[data-size='default'] {
  height: 2.5rem;
}

.ui-select-trigger[data-size='sm'] {
  height: 2.25rem;
}

@media (min-width: 768px) {
  .ui-select-trigger[data-size='default'] {
    height: 2.25rem;
  }

  .ui-select-trigger[data-size='sm'] {
    height: 2rem;
  }
}

.ui-select-item svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-select-item svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-select-item[data-disabled] {
  pointer-events: none;
  color: var(--color-muted-foreground);
}

.ui-select-item[data-disabled] svg:not([class*='text-']) {
  color: var(--color-muted-foreground);
}

.ui-toggle svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-toggle svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-toggle[data-state='on'] {
  background-color: var(--color-accent);
  color: var(--color-accent-foreground);
}

.ui-toggle[data-state='on'] svg:not([class*='text-']) {
  color: var(--color-accent-foreground);
}

.ui-select-content--popper[data-side='bottom'] {
  translate: 0 0.25rem;
}

.ui-select-content--popper[data-side='top'] {
  translate: 0 -0.25rem;
}

.ui-select-content--popper[data-side='left'] {
  translate: -0.25rem 0;
}

.ui-select-content--popper[data-side='right'] {
  translate: 0.25rem 0;
}

/* Tooltip */
.ui-tooltip-arrow {
  translate: 0 calc(-50% - 2px);
}

/* Dropdown */
.ui-dropdown-item svg {
  pointer-events: none;
  flex-shrink: 0;
}

.ui-dropdown-item svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
}

.ui-dropdown-item svg:not([class*='text-']) {
  color: var(--color-muted-foreground);
}

.ui-dropdown-item--destructive {
  color: var(--color-destructive);
}

.ui-dropdown-item--destructive svg:not([class*='text-']) {
  color: var(--color-destructive);
}

.ui-dropdown-sub-trigger[data-state='open'] {
  background-color: var(--color-accent);
  color: var(--color-accent-foreground);
}

/* Toast */
.ui-toast[data-swipe='move'] {
  transform: translateX(var(--radix-toast-swipe-move-x));
  transition: none;
}

.ui-toast[data-swipe='cancel'] {
  transform: translateX(0);
}

.ui-toast[data-swipe='end'] {
  transform: translateX(var(--radix-toast-swipe-end-x));
}

.destructive .ui-toast-action {
  border-color: var(--color-destructive-foreground);
}

.destructive .ui-toast-action:hover {
  background-color: var(--color-destructive);
  color: var(--color-destructive-foreground);
}

.destructive .ui-toast-action:focus-visible {
  outline-color: var(--color-destructive) !important;
}

.destructive .ui-toast-close {
  color: var(--color-destructive-foreground);
}

.destructive .ui-toast-close:focus-visible {
  outline-color: var(--color-destructive) !important;
}

/* Hover border is handled via token-safe Tailwind classes. */

/* Switch */
.ui-switch[data-state='checked'] {
  background-color: var(--color-primary);
}

.ui-switch[data-state='unchecked'] {
  background-color: var(--color-input);
}

.ui-switch-thumb[data-state='checked'] {
  transform: translateX(calc(100% - 2px));
}

.dark .ui-switch-thumb[data-state='unchecked'] {
  background-color: var(--color-foreground);
}

.dark .ui-switch-thumb[data-state='checked'] {
  background-color: var(--color-primary-foreground);
}

/* Table */
.ui-table-row[data-state='selected'] {
  background-color: var(--color-muted);
}

.ui-table-head:has([role='checkbox']),
.ui-table-cell:has([role='checkbox']) {
  padding-right: 0;
}

.ui-table-head>[role='checkbox'],
.ui-table-cell>[role='checkbox'] {
  translate: 0 2px;
}
