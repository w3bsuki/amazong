# next-intl Reference (App Router)
# Version: next-intl 4.x
# Last fetched: 2026-02-12

## Setup

Treido uses next-intl with App Router, locale prefix routing.

Supported locales: `en`, `bg`
Default locale: `en`

## Message Files

- `messages/en.json` — English translations
- `messages/bg.json` — Bulgarian translations
- Format: ICU Message Format

## Server Components

```typescript
import { getTranslations } from 'next-intl/server'

export default async function Page() {
  const t = await getTranslations('Namespace')
  return <h1>{t('key')}</h1>
}
```

## Client Components

```typescript
'use client'
import { useTranslations } from 'next-intl'

export function Component() {
  const t = useTranslations('Namespace')
  return <p>{t('key')}</p>
}
```

## ICU Patterns Used

- Simple: `"greeting": "Hello"`
- Interpolation: `"welcome": "Welcome, {name}"`
- Plural: `"items": "{count, plural, one {# item} other {# items}}"`
- Select: `"status": "{status, select, active {Active} archived {Archived} other {Unknown}}"`

## Routing

```typescript
// i18n/routing.ts
import { defineRouting } from 'next-intl/routing'

export const routing = defineRouting({
  locales: ['en', 'bg'],
  defaultLocale: 'en',
})
```

## Key Rules

- All user-facing strings MUST use next-intl, never hardcoded
- Namespace = page/component name (e.g., 'ProductCard', 'CheckoutPage')
- Both locale files must have identical keys (enforced by test)
