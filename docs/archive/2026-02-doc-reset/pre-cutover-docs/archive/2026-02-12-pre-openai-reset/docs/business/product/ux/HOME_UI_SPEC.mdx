# Home (Mobile) UI Spec — Premium, Calm, Fast

This spec defines the **mobile Home/Landing** layout and UI rules for Treido.

> Status (2026-02-10): this document is partially superseded by `DESIGN.md` Section 6
> and current runtime implementation in `app/[locale]/(main)/_components/mobile-home.tsx`.
> Keep this doc aligned when Home interaction patterns change.

## Goals

- Feel **premium, calm, and fast** to browse.
- Minimal chrome, strict hierarchy, low cognitive load.
- **Tailwind v4 semantic tokens only** (no palette classes, gradients, arbitrary values).
- **All copy via `next-intl`**.

## Non‑negotiables

1) **No large segmented controls on Home.** Compact chip rails are allowed.
2) Above‑the‑fold: **Header + ONE lightweight category row + content**.
3) Product image overlays: **max 2**.
   - Keep **one** promo/discount badge (single).
   - Keep **wishlist** button (single).
4) Wishlist button: same container style always; only icon fill changes when active.
5) Categories: compact chips, horizontal scroll; active = filled surface + font-medium.
6) Typography: price strongest, title medium (**always 1 line**), meta muted.
7) Spacing rhythm: page padding `px-4` equivalent (`px-inset-md`), consistent gaps (`gap-3` / `gap-4`).
8) Bottom nav: low emphasis; safe-area padding so content never sits under it.

---

## A) Header (existing)

- Source: `components/layout/header/mobile/homepage-header.tsx`
- Structure: hamburger + logo + inline search trigger + wishlist/cart.
- Constraint: no extra stacked controls under the header.
- Search opens the mobile search overlay via `HeaderProvider` state.

## B) Category row (chips) — single row

- Source (current runtime): `components/mobile/category-nav/category-circles-simple.tsx`
- One horizontally scrollable row: `overflow-x-auto no-scrollbar`
- Item sizing is tokenized (`min-h-(--spacing-touch-md)` / 44px intent) with compact card-like items.
- First chip: **Categories / More** → opens root category drawer view.
- Remaining chips: L0 categories → open scoped drawer for that category.
- Active styling:
  - high-contrast selected treatment for quick state recognition
  - no thick borders (`border-2` forbidden)

## C) Scope controls (lightweight, mobile-only)

Home supports a **hybrid scoped browse** model:

- Keep Home curated and fast.
- Allow lightweight **city + L0 category scope** directly on Home.
- Keep full filtering/sorting in Search.

Rules:

1) Scope controls are implemented as compact chips in the Home feed controls rail.
2) City selection uses the Home city picker bottom sheet (no desktop-style dropdown menus).
3) Scope updates Home sections instantly and updates section copy.
4) Clear/reset scope behavior is one-tap and local to Home context.
5) No full filter hub or heavy segmented bars on Home.

---

## D) Sections (curated-only surface with scoped data)

Home is **curated-only** and links out to Search for “see all”.

Order + links:

1) **На фокус** (promoted/boosted) carousel  
   - “See all” → `/search?promoted=true&sort=newest`
   - If scope active, append `city` / `category` query params.
2) **Най-нови** carousel  
   - “See all” → `/search?sort=newest`
   - If scope active, append `city` / `category` query params.
3) **Оферти днес** carousel  
   - “See all” → `/search?deals=true&sort=newest`
4) Final CTA row  
   - “All listings” → `/search?sort=newest`

Scoped empty behavior:

- If promoted for scope is empty: show compact inline empty state + “Clear scope”.
- If newest for scope is empty: show compact inline empty state.

## E) Product card (Home rules)

- Use current runtime card component:
  - `components/shared/product/card/mobile.tsx` (`MobileProductCard`)
  - Home feed currently uses `layout="feed"` in `mobile-home.tsx`
- Meta hierarchy:
  - Seller row is seller identity only (avatar + verified + seller name) so long names stay visible.
  - Price row beneath title uses compact split layout: price on the left, upload date on the right.
- Overlays max 2:
  - Top-left: **single** badge (discount OR promo).
  - Top-right: wishlist button (consistent container).

## F) Bottom nav (existing)

- Source: `app/[locale]/_components/mobile-tab-bar.tsx`
- Safe-area handled by `pb-tabbar-safe` on `<main>` in `app/[locale]/_components/storefront-shell.tsx`.
- Navigation shell uses a full-width solid surface with top border for consistent drawer/sheet cohesion.

---

## Do / Don’t

✅ Do
- Keep Home curated (carousels + clear CTAs).
- Use token surfaces (`bg-background`, `bg-muted`, `bg-surface-subtle`) and hairline borders.
- Keep touch targets ≥ `min-h-touch` (44px) for icon-only controls.

❌ Don’t
- Add heavy full-width segmented bars or full filter hubs on Home.
- Add 3+ overlays on product images.
- Use gradients, heavy shadows, thick borders, or palette classes.
