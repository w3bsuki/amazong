# TypeScript Lane Audit — 2026-01-20

## Evidence (commands + outputs)

- `pnpm -s exec tsc -p tsconfig.json --noEmit` → ✅ pass (no errors)
- `pnpm -s ts:gate` → `codex-xhigh/typescript/ts-gate-2026-01-20.log` (❌ 66 new unsafe patterns)
- `pnpm -s knip` → `codex-xhigh/typescript/knip-2026-01-20.log` (unused files/deps/exports)

## Critical (blocks execution)

- [ ] `ts:gate` drift: 66 new unsafe patterns → `codex-xhigh/typescript/ts-gate-2026-01-20.log` → decide per-file: fix (preferred) vs intentionally accept and update baseline (`pnpm -s ts:gate:baseline`).
- [ ] Knip: unused dependencies (2) → `codex-xhigh/typescript/knip-2026-01-20.log` → `@capacitor/android`, `@capacitor/core` (either remove or justify/ensure used by Capacitor flow).

## High (cleanup candidates)

- [ ] Knip: unused files (49) → `codex-xhigh/typescript/knip-2026-01-20.log` → heavy concentration in demo + legacy product/mobile components; delete with confidence after verifying routing usage.
- [ ] Knip: unused exports (15) + unused exported types (5) → `codex-xhigh/typescript/knip-2026-01-20.log` → remove or re-home (notably `lib/supabase/database.types.ts` exports).
- [ ] Knip config hints → `codex-xhigh/typescript/knip-2026-01-20.log` → `middleware.entry.ts` entry has no matches; `knip.json` entry patterns likely need refinement once we’re done deleting.

